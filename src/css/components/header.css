/* ================== HEADER ================== */

.header {
    position: absolute;
    inset-inline: 0;
    top: 0;
    z-index: 20;
    overflow: visible;
}

/* Par défaut : header du festival avec dégradé orange */
.header--festival {
    background: linear-gradient(180deg,
            var(--gradient-hero) 0%,
            var(--principal) 100%);
}

.header--festival::after {
    content: "";
    position: absolute;
    left: 0;
    right: 0;
    bottom: -24px;
    height: 48px;
    background: radial-gradient(circle at 36px 36px, var(--secondaire) 36px, transparent 37px) repeat-x;
    background-size: 72px 72px;
    pointer-events: none;
    z-index: 19;
}

/* Cas particulier de la home : header transparent sur le hero */
.header--home {
    background: transparent;
}

.header--home::after {
    content: none;
}

.header__inner {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding-block: 2rem;
}

/* Home : pas de logo, burger collé à droite */
.header--home .header__inner {
    justify-content: flex-end;
}

/* Logo dans le header (sous-pages) */
.header__logo-link {
    display: inline-flex;
    align-items: center;
}

.header__logo {
    height: 65px;
    /* ajuste selon ta maquette */
    width: auto;
}

/* ================== BOUTON BURGER ================== */

.header__menu-btn {
    border: none;
    background: transparent;
    padding: 0;
}

.menu-btn {
    display: flex;
    flex-direction: column;
    justify-content: flex-start;
    gap: 6px;
    padding-top: 3px;
    cursor: pointer;
}

.menu-btn__bar {
    width: 22px;
    height: 2px;
    background-color: var(--text-button);
    border-radius: 2px;
    transition: transform 0.2s ease-out;
}

/* Animation du burger quand le menu est ouvert (classe ajoutée en JS) */
.menu-btn--open .menu-btn__bar--top {
    transform: rotate(45deg) translateY(4px);
}

.menu-btn--open .menu-btn__bar--bottom {
    transform: rotate(-45deg) translateY(-4px);
}

/* ================== HEADER SCROLLED ================== */

.header--scrolled {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    background: linear-gradient(90deg, rgba(226, 93, 64, 0.96) 0%, rgba(247, 157, 9, 0.92) 100%);
    box-shadow: 0 14px 32px rgba(0, 0, 0, 0.18);
    transition: background 180ms ease, box-shadow 180ms ease, padding 180ms ease;
}

.header--scrolled .header__inner {
    padding-block: 1rem;
}

.header--home.header--scrolled {
    background: rgba(226, 93, 64, 0.96);
}

/* ================== HEADER ACTIONS ================== */

.header__actions {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    margin-left: auto;
}

/* ================== SEARCH BAR ================== */

.header__search-shell {
    padding: 0 1rem;
    margin-top: 0.75rem;
}

#site-search[hidden] {
    display: none !important;
}

.header__search-btn {
    border: none;
    background: transparent;
    padding: 0.4rem;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    color: var(--text-button);
    cursor: pointer;
    transition: transform 0.16s ease, opacity 0.16s ease;
}

.header__search-btn:hover {
    transform: translateY(-1px);
}

.header__search-btn:active {
    transform: translateY(0);
}

.header__search-glyph {
    position: relative;
    display: block;
    width: 20px;
    height: 20px;
}

.header__search-glyph::before,
.header__search-glyph::after {
    content: "";
    position: absolute;
    inset: 0;
    color: currentColor;
}

.header__search-glyph::before {
    width: 13px;
    height: 13px;
    border: 2px solid currentColor;
    border-radius: 50%;
    top: 0;
    left: 0;
}

.header__search-glyph::after {
    width: 9px;
    height: 2px;
    background: currentColor;
    transform: translate(11px, 11px) rotate(45deg);
    border-radius: 2px;
}

.site-search {
    display: grid;
    gap: 0.35rem;
    padding: 0;
    background: transparent;
    border: none;
    border-radius: 0;
    box-shadow: none;
}

.site-search--compact {
    padding: 0;
    gap: 0.3rem;
}

.site-search__label {
    font-size: var(--fontsm);
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 0.04em;
    color: var(--text-color);
}

.site-search__field {
    display: block;
}

.site-search__input {
    width: 100%;
    border: 1px solid rgba(27, 46, 75, 0.16);
    border-radius: 16px;
    padding: 0.8rem 1rem;
    font-family: inherit;
    font-size: var(--fontbase);
    background: rgba(27, 46, 75, 0.05);
    color: var(--text-color);
    outline: none;
    transition: border-color 0.18s ease, box-shadow 0.18s ease, background 0.18s ease;
}

.site-search--compact .site-search__input {
    padding: 0.65rem 0.85rem;
    font-size: var(--fontsm);
    border-radius: 14px;
}

.site-search__input::placeholder {
    color: rgba(27, 46, 75, 0.75);
}

.site-search__input:focus {
    border-color: var(--principal);
    box-shadow: 0 0 0 2px rgba(226, 93, 64, 0.18);
    background: rgba(27, 46, 75, 0.08);
}

.search-empty {
    margin: 0.35rem 0 0;
    font-size: var(--fontsm);
    font-weight: 700;
    color: var(--principal);
}

.site-search__submit {
    border: none;
    border-radius: 999px;
    padding: 0.85rem 1.15rem;
    font-weight: 800;
    text-transform: uppercase;
    letter-spacing: 0.06em;
    cursor: pointer;
    background: var(--principal);
    color: var(--text-button);
    box-shadow: 0 14px 26px rgba(0, 0, 0, 0.16);
    transition: transform 0.16s ease, box-shadow 0.16s ease;
}

.site-search__submit:hover {
    transform: translateY(-1px);
    box-shadow: 0 18px 30px rgba(0, 0, 0, 0.18);
}

.site-search__submit:active {
    transform: translateY(0);
}

.site-search__hint {
    margin: 0;
    color: rgba(27, 46, 75, 0.75);
}

/* ================== BACK TO TOP ================== */

.back-to-top {
    position: fixed;
    right: 1.25rem;
    bottom: 1.25rem;
    width: 48px;
    height: 48px;
    border: none;
    border-radius: 999px;
    background: var(--text-color);
    color: var(--text-button);
    display: grid;
    place-items: center;
    font-size: var(--fontlg);
    box-shadow: 0 14px 28px rgba(0, 0, 0, 0.2);
    opacity: 0;
    pointer-events: none;
    transform: translateY(12px);
    transition: opacity 0.2s ease, transform 0.2s ease, background 0.2s ease, box-shadow 0.2s ease;
    z-index: 80;
}

.back-to-top.is-visible {
    opacity: 1;
    pointer-events: auto;
    transform: translateY(0);
}

.back-to-top:hover {
    background: var(--principal);
    box-shadow: 0 18px 32px rgba(0, 0, 0, 0.2);
}

.back-to-top:active {
    transform: translateY(0);
}